{"version":3,"sources":["AppTheme.js","ReciteContext.js","AppContext.js","components/Permissions.js","components/GitHubLink.js","components/Workbook/Sources/SampleSource.js","components/Workbook/WorkbookService.js","components/Workbook/Sources/FileSource.js","components/Workbook/Sources/UrlSource.js","components/Workbook/WorkbookSourceSelector.js","components/Workbook/LoadWorkbookDialog.js","components/Workbook/LoadWorkbookLink.js","components/layout/TopBar.js","elements/CenteredBox.js","elements/StickyFooterBox.js","components/ReciteBox/UtteranceText.js","components/ReciteBox/RepeatSlowerButton.js","components/ReciteBox/PhraseCard.js","components/ReciteBox/ReciteButton.js","components/ReciteBox/RecitePhraseCard.js","components/ReciteBox/ReciteFabButton.js","components/ReciteBox/PhraseList.js","components/ReciteBox/PhraseDialog.js","components/ReciteBox/PhraseNavigator.js","components/ReciteBox/ReciteBox.js","components/layout/AppViewport.js","App.js","serviceWorker.js","index.js","logo192.png"],"names":["AppTheme","children","prefersDarkMode","useMediaQuery","theme","React","useMemo","createMuiTheme","palette","type","ThemeProvider","defaultValue","state","audioUrl","recognition","setRecordingState","record","console","log","ReciteContext","createContext","DefaultReciteContextProvider","props","mediaRecorder","recordingState","setState","setRecognition","targetLanguageCode","abort","stop","navigator","mediaDevices","chunks","getUserMedia","audio","then","stream","MediaRecorder","start","onstart","e","onstop","blob","Blob","audioURL","URL","createObjectURL","Audio","src","play","getTracks","forEach","track","ondataavailable","push","data","window","webkitSpeechRecognition","continuous","interimResults","lang","addEventListener","document","hidden","Provider","value","this","Component","name","setWorkbookData","phrases","AppContext","DefaultAppContextProvider","useStyles","makeStyles","modal","display","alignItems","justifyContent","paper","backgroundColor","background","border","boxShadow","shadows","padding","spacing","TransitionsModal","classes","useState","open","setOpen","useEffect","catch","warn","Modal","aria-labelledby","aria-describedby","className","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","Typography","variant","GitHubLink","IconButton","href","target","SampleSource","onSourceChange","ListItem","button","onClick","stopPropagation","sampleData","ListItemIcon","ListItemText","primary","secondary","WorkbookService","Error","file","Promise","res","rej","reader","FileReader","onload","text","result","json","JSON","parse","validateWorkbook","onerror","readAsText","FileSource","fileFieldRef","useRef","current","click","ref","data-testid","data-file-loaded","accept","onChange","a","async","f","files","loadFromFile","alert","message","UrlLoader","url","fetch","r","UrlDialog","onLoad","setUrl","Dialog","DialogTitle","id","DialogContent","DialogContentText","TextField","autoFocus","margin","label","inputProps","onKeyUp","fullWidth","DialogActions","Button","color","UrlSource","WorkbookSourceSelector","List","LoadWorkbookDialog","isOpen","ctx","useContext","Fragment","DefaultLoadWorkbookDialog","LoadWorkbookLink","root","flexGrow","appBar","menuButton","marginRight","title","TopBar","AppBar","position","Toolbar","Box","mr","alt","style","width","PollyImage","center","CenteredBox","forceBottom","CenteredContainer","UtteranceText","defaultText","utterance","setText","ev","charIndex","charLength","before","substring","highlighted","after","onboundary","RepeatSlowerButton","card","minWidth","bullet","transform","fontSize","pos","marginBottom","PhraseCard","setUtterance","repeat","args","preventDefault","ut","phrase","extraArgs","msg","SpeechSynthesisUtterance","voice","speechSynthesis","getVoices","find","v","voiceURI","volume","rate","pitch","Object","assign","speak","speakPhrase","repeatSlow","Card","CardContent","gutterBottom","source","component","CardActions","size","ReciteButton","icon","startIcon","RecognitionText","results","transcript","onresult","RecitePhraseCard","reciteContext","playAudioUrl","disabled","ReciteFabButton","appContext","Fab","PhraseItem","PhraseList","onSelectItem","items","map","index","key","handleClick","marginLeft","flex","Transition","forwardRef","Slide","direction","PhraseDialog","onCancel","fullScreen","TransitionComponent","edge","aria-label","PhraseNavigator","setCurrentPhrase","setIndex","iterate","offset","length","back","next","ButtonGroup","ReciteBox","setPhrase","mt","Container","maxWidth","mb","AppViewport","height","App","Boolean","location","hostname","match","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.c6e36213.chunk.js","sourcesContent":["import React from 'react';\n\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nexport default function AppTheme({ children }) {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n\n  const theme = React.useMemo(\n    () =>\n    createMuiTheme({\n      palette: {\n        type: prefersDarkMode ? 'dark' : 'light',\n      },\n    }),\n    [prefersDarkMode],\n  );\n\n  return (\n    <ThemeProvider theme={theme}>\n        { children }\n    </ThemeProvider>\n  );\n};\n\n","import React from 'react';\nexport const defaultValue = {\n  state: null,\n  audioUrl: null,\n  recognition: null,\n  setRecordingState: () => {},\n  record: () => { console.log(\"Not implemented!\"); },\n};\n\nexport const ReciteContext = React.createContext(defaultValue);\n\nexport class DefaultReciteContextProvider extends React.Component {\n  constructor(props) {\n    super(props);\n\n    let mediaRecorder;\n\n    const setRecordingState = (recordingState) => {;\n      this.setState({\n        ...this.state,\n        state: recordingState,\n      });\n    };\n\n    let setAudioUrl = (audioUrl) => {\n      this.setState({\n        ...this.state,\n        audioUrl,\n      });\n    };\n\n    let setRecognition = (recognition) => {\n      this.setState((state) => ({\n        ...this.state,\n        recognition\n      }));\n    };\n\n    const record = ({ targetLanguageCode }) => {\n      setRecordingState(\"listening\");\n\n\n      if(this.state.state !== \"stopped\") {\n        let { recognition } = this.state;\n\n        if(recognition) {\n          recognition.abort();\n        }\n\n        setRecordingState(\"stopped\");\n        setRecognition(null);\n\n        if(mediaRecorder) {\n          mediaRecorder.stop();\n        }\n\n        return;\n      }\n\n      if(navigator.mediaDevices) {\n        let chunks = [];\n        navigator.mediaDevices.getUserMedia({ audio: true })\n          .then(function(stream) {\n\n            mediaRecorder = new MediaRecorder(stream);\n\n            mediaRecorder.start();\n\n            mediaRecorder.onstart = function(e) {\n            };\n\n            mediaRecorder.onstop = function(e) {\n              setRecordingState(\"stopped\");\n\n              var blob = new Blob(chunks, { 'type' : 'audio/ogg; codecs=opus' });\n              chunks = [];\n\n              var audioURL = URL.createObjectURL(blob);\n\n              var audio = new Audio();\n              audio.src = audioURL;\n              audio.play();\n\n              setAudioUrl(audioURL);\n\n              stream.getTracks().forEach(function(track) {\n                track.stop();\n              });\n            };\n\n            mediaRecorder.ondataavailable = function(e) {\n              chunks.push(e.data);\n            }\n          });\n      }\n\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = targetLanguageCode;\n\n      recognition.addEventListener('audiostart', () => {\n        setRecordingState(\"listening\");\n      });\n\n      recognition.addEventListener('soundstart', (e) => {\n        setRecordingState(\"recording\");\n      });\n\n      recognition.addEventListener('soundend', (e) => {\n        recognition.stop();\n\n        if(mediaRecorder) {\n          mediaRecorder.stop();\n        }\n\n        setRecognition(null);\n      });\n\n      document.addEventListener(\"visibilitychange\", () => {\n        if(document.hidden) {\n          recognition.abort();\n\n          if(mediaRecorder && mediaRecorder.state === 'recording') {\n            mediaRecorder.stop();\n          }\n        }\n      });\n\n      recognition.start();\n\n      setRecordingState(\"listening\");\n\n      setRecognition(recognition);\n\n    };\n\n    this.state = {\n      ...defaultValue,\n      state: \"stopped\",\n      record,\n    };\n  }\n\n  render() {\n    return (\n      <ReciteContext.Provider value={this.state}>\n          { this.props.children }\n      </ReciteContext.Provider>\n    );\n  }\n}\n\nexport default ReciteContext;\n","import React from 'react';\n\nimport data from './datasources/foo.json';\n\nexport const defaultValue = {\n  name: data.name,\n  setWorkbookData: () => { console.log(\"Not implemented!\"); },\n  phrases: data.phrases,\n};\n\nexport const AppContext = React.createContext(defaultValue);\n\nexport class DefaultAppContextProvider extends React.Component {\n  state = defaultValue;\n\n  componentDidMount() {\n    let state = this.state;\n\n    state.setWorkbookData = ({ name, phrases }) => {\n      this.setState({\n        ...this.state,\n        name,\n        phrases,\n      });\n    };\n\n    this.setState(state);\n  }\n\n  render() {\n    const state = this.state;\n\n    return (\n      <AppContext.Provider value={state}>\n        {this.props.children}\n      </AppContext.Provider>\n    )\n  }\n}\n\nexport default AppContext;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function TransitionsModal() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  React.useEffect(() => {\n    if(!navigator || !navigator.mediaDevices) {\n      console.warn(\"Could not detect media devices. This may be because the application was not loaded over a secure context (e.g. https). https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#Security\");\n      setOpen(true);\n\n      return;\n    }\n\n    navigator.mediaDevices.getUserMedia({ audio: true })\n      .then((stream) => {\n        setOpen(false);\n\n        stream.getTracks().forEach(function(track) {\n          track.stop();\n        });\n      })\n      .catch(() => {\n        setOpen(true);\n      })\n    ;\n\n    return () => {};\n  }, []);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <div className={classes.paper}>\n            <Typography variant=\"h5\">\n                This application requires access to your microphone. \n            </Typography>\n            <Typography variant=\"body1\">\n\n            </Typography>\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport './GitHubLink.css';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport GitHubIcon from '@material-ui/icons/GitHub';\n\nconst projectURL = \"https://github.com/alexjpaz/polly\";\n\nexport const GitHubLink = () => (\n  <IconButton href={projectURL} target={\"_blank\"}>\n    <GitHubIcon />\n  </IconButton>\n);\n\nexport default GitHubLink;\n","import React from 'react';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport StarBorderOutlinedIcon from '@material-ui/icons/StarBorderOutlined';\n\nimport sampleData from '../../../datasources/foo.json';\n\nexport function SampleSource({ onSourceChange }) {\n  const onClick = (e) => {\n    e.stopPropagation();\n    onSourceChange(sampleData);\n  };\n\n  return (\n    <ListItem button onClick={onClick}>\n      <ListItemIcon>\n        <StarBorderOutlinedIcon />\n      </ListItemIcon>\n      <ListItemText primary='Sample' secondary='Load the default sample workbook (13 sentences in Spanish)' />\n    </ListItem>\n  );\n}\n","export class WorkbookService {\n  static validateWorkbook(data) {\n    if(!data.phrases) {\n      throw new Error(\"Workbook does not have any valid phrases\");\n    }\n  }\n\n  static async loadFromFile(file) {\n    return new Promise((res, rej) => {\n      const reader = new FileReader();\n\n      reader.onload = (e) => {\n        try {\n          const text = e.target.result;\n          const json = JSON.parse(text);\n\n          WorkbookService.validateWorkbook(json);\n\n          return res(json);\n        } catch(e) {\n          return rej(e);\n        }\n      };\n\n      reader.onerror = rej;\n\n      reader.readAsText(file);\n    });\n  }\n}\n","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport FolderIcon from '@material-ui/icons/Folder';\n\nimport { WorkbookService } from '../WorkbookService';\n\nexport function FileSource({ onSourceChange }) {\n  const fileFieldRef = React.useRef(null);\n\n  const onClick = () => {\n    fileFieldRef.current.click();\n  };\n\n  const onFileChange = async (e) => {\n    const f = e.target.files[0];\n\n    try {\n      const data = await WorkbookService.loadFromFile(f);\n\n      onSourceChange(data);\n    } catch(e) {\n      window.alert(\"Invalid workbook:\" + e.message);\n    }\n\n  };\n\n  return (\n    <ListItem button onClick={onClick}>\n      <ListItemIcon>\n        <FolderIcon />\n      </ListItemIcon>\n      <ListItemText primary='File' secondary='Load a workbook from your local system' />\n\n      <input\n        hidden\n        ref={fileFieldRef}\n        data-testid='file'\n        name='file'\n        type='file'\n        data-file-loaded={false}\n        accept=\"application/json\"\n        onChange={onFileChange}/>\n    </ListItem>\n  );\n}\n\n\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport LinkIcon from '@material-ui/icons/Link';\nimport TextField from '@material-ui/core/TextField';\n\nexport async function UrlLoader(url) {\n  let data = null;\n\n  data = await fetch(url)\n    .then(r => r.json())\n  ;\n\n  return data;\n}\n\nexport function UrlDialog({ open, onClose, onLoad }) {\n  const [ url, setUrl ] = React.useState(null);\n\n  const submit = async (e) => {\n    e.stopPropagation();\n\n    try {\n      const data = await UrlLoader(url);\n      onLoad(data);\n    } catch(e) {\n      window.alert(\"Failed to load data from URL:\" + e.message);\n      throw e;\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Enter URL</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Enter a URL to load a workbook from.\n        </DialogContentText>\n        <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"url\"\n            label=\"URL\"\n            inputProps={{\"data-testid\":\"url\"}}\n            type=\"url\"\n            onChange={(e) => setUrl(e.target.value)}\n            onKeyUp={(e) => setUrl(e.target.value)}\n            fullWidth\n          />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={submit} color=\"primary\">\n          Submit\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport function UrlSource({ onSourceChange }) {\n  const [ open, setOpen ] = React.useState(false);\n\n  const onClick = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n  };\n\n  const onLoad = (data) => {\n    setOpen(false);\n    onSourceChange(data);\n  };\n\n  const onClose = (e) => {\n    e.stopPropagation();\n    setOpen(false);\n  };\n\n  return (\n    <ListItem button onClick={onClick}>\n      <ListItemIcon>\n        <LinkIcon />\n      </ListItemIcon>\n      <ListItemText primary='URL' secondary='Load a workbook from a URL' />\n      <UrlDialog open={open} onLoad={onLoad} onClose={onClose} />\n    </ListItem>\n  );\n}\n","import React from 'react';\nimport List from '@material-ui/core/List';\n\nimport { SampleSource } from './Sources/SampleSource';\nimport { FileSource } from './Sources/FileSource';\nimport { UrlSource } from './Sources/UrlSource';\n\nexport function WorkbookSourceSelector({ onSourceChange }) {\n  return (\n    <List>\n      <SampleSource onSourceChange={onSourceChange} />\n      <UrlSource onSourceChange={onSourceChange} />\n      <FileSource onSourceChange={onSourceChange} />\n    </List>\n  );\n}\n\nexport default WorkbookSourceSelector;\n","import React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { AppContext } from '../../AppContext';\nimport { WorkbookSourceSelector } from './WorkbookSourceSelector';\n\nexport function LoadWorkbookDialog({ isOpen = false, onClose }) {\n  const ctx = React.useContext(AppContext);\n\n  const onSourceChange = (data) => {\n    ctx.setWorkbookData(data);\n    onClose();\n  };\n\n  const handleCancel = (e) => {\n    e.stopPropagation();\n    onClose();\n  };\n\n  return (\n    <React.Fragment>\n      <Dialog open={isOpen} onClose={handleCancel} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"load-workbook-dialog\">Load Workbook</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please specify a source for your workbook.\n          </DialogContentText>\n          <WorkbookSourceSelector onSourceChange={onSourceChange} />\n        </DialogContent>\n      </Dialog>\n    </React.Fragment>\n  );\n}\n\nexport default function DefaultLoadWorkbookDialog({ isOpen = false, onClose, children }) {\n  return (\n    <LoadWorkbookDialog isOpen={isOpen} onClose={onClose}>\n      {children}\n    </LoadWorkbookDialog>\n  );\n}\n","import React from 'react';\n\nimport IconButton from '@material-ui/core/IconButton';\n\nimport ImportContactsIcon from '@material-ui/icons/ImportContacts';\n\nimport LoadWorkbookDialog from './LoadWorkbookDialog';\n\nexport const LoadWorkbookLink = () => {\n  const [open, setOpen] = React.useState(false);\n\n  const onClick = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <IconButton onClick={onClick} data-testid='import-contacts-button'>\n      <ImportContactsIcon />\n      <LoadWorkbookDialog isOpen={open} onClose={handleClose} />\n    </IconButton>\n  )\n};\n\nexport default LoadWorkbookLink;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nimport PollyImage from '../../logo192.png';\nimport GitHubLink from '../GitHubLink';\n\nimport LoadWorkbookLink from '../Workbook/LoadWorkbookLink';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  appBar: {\n    backgroundColor: \"#333333\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\n\nexport default function TopBar() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" className={classes.appBar}>\n        <Toolbar>\n          <Box mr={1}>\n            <img alt='brand logo' style={{width: \"1.25rem\"}} src={PollyImage} />\n          </Box>\n          <Typography variant=\"h6\" className={classes.title}>\n              Polly\n          </Typography>\n          <LoadWorkbookLink />\n          <GitHubLink />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\n\nconst useStyles = makeStyles({\n  center: {\n    'text-align': 'center'\n  },\n});\n\nexport default function CenteredBox(props) {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.center}>\n        { props.children }\n    </Box>\n  );\n}\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\n\nconst useStyles = makeStyles({\n  forceBottom: {\n    'width': '100%',\n    'position': 'fixed',\n    'bottom': 0,\n    'margin-bottom': '10px',\n  },\n});\n\nexport default function CenteredContainer(props) {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.forceBottom}>\n        { props.children }\n    </Box>\n  );\n}\n","import React from 'react';\n\nfunction UtteranceText({ defaultText, utterance }) {\n  const [text, setText] = React.useState(defaultText);\n\n  React.useEffect(() => {\n    if(utterance) {\n      utterance.addEventListener('boundary', function(ev) {\n        let { charIndex, charLength } = ev;\n\n        let before = utterance.text.substring(0, charIndex);\n\n        let highlighted = utterance.text.substring(charIndex, charIndex+charLength);\n\n        let after = utterance.text.substring(charIndex+charLength);\n\n        setText(\n          <span>\n            <span>{before}</span>\n            <span style={{color:\"red\"}}>{highlighted}</span>\n            <span>{after}</span>\n          </span>\n        );\n      });\n\n      utterance.addEventListener('end', () => {\n        setText(defaultText);\n      });\n    } else {\n      setText(defaultText);\n    }\n\n    return () => {\n      if(utterance) {\n        utterance.onboundary = function() {};\n      }\n    };\n  }, [utterance, defaultText]);\n\n  return (<React.Fragment>{text}</React.Fragment>);\n}\n\nexport default UtteranceText;\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport SlowMotionVideoIcon from '@material-ui/icons/SlowMotionVideo';\n\nexport default function RepeatSlowerButton(props) {\n  return (\n    <Button {...props}>\n      <SlowMotionVideoIcon />\n      { props.children }\n    </Button>\n  );\n}\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\n\nimport UtteranceText from './UtteranceText';\nimport RepeatSlowerButton from './RepeatSlowerButton';\n\nfunction speakPhrase(phrase, extraArgs) {\n  let lang = phrase.targetLanguageCode;\n  let text = phrase.target;\n\n  var msg = new SpeechSynthesisUtterance(text);\n  var voices = speechSynthesis.getVoices();\n\n  let voice = voices\n    .find(v => v.lang === lang);\n\n  msg.voice = voice;\n  msg.voiceURI = 'native';\n  msg.volume = 1;\n  msg.rate = 0.75;\n  msg.pitch = 1;\n  msg.text = text;\n  msg.lang = phrase.targetLanguageCode;\n\n  Object.assign(msg, extraArgs);\n\n  speechSynthesis.speak(msg);\n\n  return msg;\n}\n\nconst useStyles = makeStyles({\n  card: {\n    minWidth: 275,\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nexport default function PhraseCard(props) {\n  const [ utterance, setUtterance ] = React.useState(null);\n\n  const classes = useStyles();\n\n  const repeat = (args) => (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    let ut = speakPhrase(props.phrase, args);\n\n    ut.addEventListener('end', () => {\n      setUtterance(null);\n    });\n\n    setUtterance(ut);\n  };\n\n  const repeatSlow = repeat({ rate: 0.5 });\n\n  return (\n    <Card className={classes.card}>\n      <CardContent>\n        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n            {props.phrase.source}\n       </Typography>\n        <Typography variant=\"h4\" component=\"h2\">\n          <UtteranceText\n            defaultText={props.phrase.target}\n            utterance={utterance}\n          />\n        </Typography>\n      </CardContent>\n      <CardActions>\n        <Button size='small' onClick={repeat()}>\n          <PlayCircleOutlineIcon />\n        </Button>\n        <RepeatSlowerButton onClick={repeatSlow} size='small'>\n        </RepeatSlowerButton>\n      </CardActions>\n    </Card>\n  );\n}\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Mic from '@material-ui/icons/Mic';\nimport RecordVoiceOverIcon from '@material-ui/icons/RecordVoiceOver';\n\nexport default function ReciteButton(props) {\n  let icon = <Mic />;\n  let text = \"Recite\";\n  let variant = \"text\";\n\n  if(props.state === \"listening\") {\n    icon = <RecordVoiceOverIcon />\n    text = \"Listening\";\n    variant = \"outlined\";\n  }\n\n  if(props.state === \"recording\") {\n    icon = <RecordVoiceOverIcon />\n    text = \"Recording\";\n    variant = \"contained\";\n  }\n\n  return (\n    <Button\n      startIcon={icon}\n      variant={variant}\n       color=\"secondary\"\n      {...props}\n     >\n        { text }\n    </Button>\n  );\n}\n\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\n\nimport ReciteButton from './ReciteButton';\n\nimport ReciteContext from '../../ReciteContext';\n\nconst useStyles = makeStyles({\n  card: {\n    minWidth: 275,\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nfunction RecognitionText({ defaultText, recognition }) {\n  const [text, setText] = React.useState(\"...\");\n\n  React.useEffect(() => {\n    if(!recognition) {\n      return () => {};\n    }\n\n    recognition.addEventListener('audiostart', (e) => {\n      setText(\"...\");\n    });\n\n    recognition.addEventListener('nomatch', (e) => {\n      setText(\"< No Match >\");\n    });\n\n    recognition.addEventListener('result', (e) => {\n      if(!e.results) return;\n\n      let { transcript, } = e.results[0][0];\n\n      setText(transcript)\n    });\n\n    return () => {\n      recognition.onresult = function() {};\n    };\n  });\n\n  return (text);\n}\n\nexport default function RecitePhraseCard(props) {\n  const classes = useStyles();\n\n  const reciteContext = React.useContext(ReciteContext);\n\n  const { audioUrl } = reciteContext;\n\n  const { recognition } = reciteContext;\n\n  const { state: recordingState } = reciteContext;\n\n  const playAudioUrl = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    var audio = new Audio();\n    audio.src = audioUrl;\n    audio.play();\n  };\n\n  const record = () => reciteContext.record(props.phrase);\n\n  const repeat = (e) => playAudioUrl(e);\n\n  return (\n    <Card variant=\"outlined\" className={classes.card}>\n      <CardContent>\n        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n            Recite the phrase\n       </Typography>\n        <Typography variant=\"h4\" component=\"h2\" onClick={repeat}>\n            <RecognitionText defaultText={props.phrase.target} recognition={recognition} />\n        </Typography>\n      </CardContent>\n      <CardActions>\n        <ReciteButton onClick={record} state={ recordingState } />\n\n        <Button size='small' disabled={ !audioUrl } onClick={repeat}>\n          <PlayCircleOutlineIcon />\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n","import React from 'react';\n\nimport Fab from '@material-ui/core/Fab';\nimport Mic from '@material-ui/icons/Mic';\nimport RecordVoiceOverIcon from '@material-ui/icons/RecordVoiceOver';\n\nimport ReciteContext from '../../ReciteContext';\n\nexport default function ReciteFabButton(props) {\n\n  let appContext = React.useContext(ReciteContext);\n\n  let icon = <Mic />;\n  let text = \"Recite\";\n\n  if(appContext.state === \"listening\") {\n    icon = <RecordVoiceOverIcon />\n    text = \"Listening\";\n  }\n\n  if(appContext.state === \"recording\") {\n    icon = <RecordVoiceOverIcon />\n    text = \"Recording\";\n  }\n\n  const record = () => appContext.record(props.phrase);\n\n  return (\n    <Fab variant=\"extended\" {...props}  color=\"secondary\" onClick={record}>\n        { icon }\n        { text }\n    </Fab>\n  );\n}\n\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nexport function PhraseItem({ phrase }) {\n  return (\n    <ListItem button>\n      <ListItemText primary={phrase.target} secondary={phrase.source} />\n    </ListItem>\n  );\n}\n\nexport default function PhraseList({ phrases = [], onSelectItem }) {\n\n  const handleClick = (phrase, index) => {\n    onSelectItem(phrase, index);\n  };\n\n  const items = phrases.map((phrase, index) => (\n    <div key={index} onClick={e => handleClick(phrase, index)}>\n      <PhraseItem phrase={phrase}  />\n    </div>\n  ));\n\n  return (\n    <List component=\"nav\">\n      {items}\n    </List>\n  );\n}\n\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\n\nimport PhraseList from './PhraseList';\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    backgroundColor: \"#333333\",\n    position: 'relative',\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function PhraseDialog({ open, phrases, onCancel, onSelectItem }) {\n  const classes = useStyles();\n\n  return (\n    <Dialog fullScreen open={open} onClose={onCancel} TransitionComponent={Transition}>\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          <IconButton edge=\"start\" color=\"inherit\" onClick={onCancel} aria-label=\"close\">\n            <CloseIcon />\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            Select Phrase\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <DialogContent>\n        <PhraseList\n          phrases={phrases}\n          onSelectItem={onSelectItem}\n          />\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\n\nimport PhraseDialog from './PhraseDialog';\n\nexport function PhraseNavigator({ phrases, setCurrentPhrase }) {\n  let [ index, setIndex ] = React.useState(0);\n  let [ open, setOpen ] = React.useState(false);\n\n  const iterate = (offset) => () => {\n    index = index + offset;\n\n    if(index >= phrases.length) {\n      index = 0;\n    }\n\n    if(index < 0) {\n      index = phrases.length - 1;\n    }\n\n    setCurrentPhrase(phrases[index]);\n    setIndex(index);\n  };\n\n  const back = iterate(-1);\n  const next = iterate(+1);\n\n  const openPhraseDialog = () => {\n    setOpen(true);\n  }\n\n  const onSelectItem = (phrase, index) => {\n    setCurrentPhrase(phrase);\n    setIndex(index);\n    setOpen(false);\n  };\n\n  const onCancel = () => setOpen(false);\n\n  return (\n    <React.Fragment>\n      <ButtonGroup aria-label=\"outlined navigation button group\">\n        <Button onClick={back}>Back</Button>\n        <Button onClick={openPhraseDialog}>{index + 1} / {phrases.length}</Button>\n        <Button onClick={next}>Next</Button>\n      </ButtonGroup>\n      <PhraseDialog open={open} onCancel={onCancel} phrases={phrases} onSelectItem={onSelectItem} />\n    </React.Fragment>\n  );\n\n}\n\nexport default PhraseNavigator;\n","import React, { useState, useContext } from 'react';\n\nimport AppContext from '../../AppContext';\n\nimport './ReciteBox.css';\n\nimport Container from '@material-ui/core/Container';\n\nimport CenteredBox from '../../elements/CenteredBox';\nimport StickyFooterBox from '../../elements/StickyFooterBox';\n\nimport Box from '@material-ui/core/Box';\n\nimport PhraseCard from './PhraseCard'\nimport RecitePhraseCard from './RecitePhraseCard'\nimport ReciteFabButton from './ReciteFabButton';\n\nimport PhraseNavigator from './PhraseNavigator';\n\nfunction ReciteBox() {\n  const data = useContext(AppContext);\n\n  let [ phrase, setPhrase ] = useState(data.phrases[0]);\n\n  return (\n    <Box mt={1}>\n      <Container maxWidth=\"md\">\n        <Box mb={2}>\n          <PhraseCard phrase={phrase} />\n        </Box>\n        <Box mb={2}>\n          <RecitePhraseCard phrase={phrase} />\n        </Box>\n      </Container>\n\n      <StickyFooterBox>\n        <CenteredBox>\n          <Box mb={2}>\n            <ReciteFabButton phrase={phrase} />\n          </Box>\n          <PhraseNavigator\n            phrases={data.phrases}\n            setCurrentPhrase={setPhrase}\n            />\n          </CenteredBox>\n        </StickyFooterBox>\n      </Box>\n  );\n}\n\nexport default ReciteBox;\n","import React from 'react';\n\nimport Box from '@material-ui/core/Box';\n\nimport Permissions from '../Permissions';\n\nimport TopBar from './TopBar';\n\nimport ReciteBox from '../ReciteBox/ReciteBox';\n\nexport default function AppViewport() {\n  return (\n    <Box height=\"100%\">\n      <TopBar />\n      <ReciteBox />\n      <Permissions />\n    </Box>\n  );\n};\n","import React from 'react';\n\nimport './App.css';\n\n\nimport AppTheme from './AppTheme';\n\nimport { DefaultReciteContextProvider } from './ReciteContext';\nimport { DefaultAppContextProvider } from './AppContext';\n\nimport AppViewport from './components/layout/AppViewport';\n\nfunction App() {\n  return (\n    <AppTheme>\n      <DefaultAppContextProvider>\n        <DefaultReciteContextProvider>\n          <AppViewport />\n        </DefaultReciteContextProvider>\n      </DefaultAppContextProvider>\n    </AppTheme>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo192.2fd840b8.png\";"],"sourceRoot":""}